# PixelPrep Environment Configuration
# Copy this file to .env and fill in your actual values

# ==============================================
# CORE APPLICATION SETTINGS
# ==============================================

# Application environment (development, staging, production)
ENVIRONMENT=development

# Backend API URL (used by frontend to connect to backend)
# Development: http://localhost:8000
# Production: https://pixelprep.onrender.com
VITE_API_URL=http://localhost:8000

# CORS origins (comma-separated list)
# Development: http://localhost:3000,http://localhost:5173
# Production: https://third-south-capital.github.io
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ==============================================
# SUPABASE CONFIGURATION (Phase 2 - Optional)
# ==============================================

# Supabase project settings
# Get these from: https://app.supabase.com/project/YOUR_PROJECT/settings/api
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Database connection string (if needed for direct access)
DATABASE_URL=postgresql://postgres:password@db.your-project.supabase.co:5432/postgres

# ==============================================
# AUTHENTICATION (Phase 2 - Optional)
# ==============================================

# JWT Secret for token signing (generate with: openssl rand -hex 32)
JWT_SECRET=your-256-bit-secret-key-here

# JWT token expiration time (in seconds)
# Default: 1800 (30 minutes)
JWT_EXPIRATION_SECONDS=1800

# GitHub OAuth Application
# Create at: https://github.com/settings/applications/new
# Homepage URL: https://third-south-capital.github.io/pixelprep/
# Callback URL: https://pixelprep.onrender.com/auth/github/callback
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# OAuth redirect URLs
# Development callback
GITHUB_REDIRECT_URI_DEV=http://localhost:8000/auth/github/callback
# Production callback  
GITHUB_REDIRECT_URI_PROD=https://pixelprep.onrender.com/auth/github/callback

# Frontend URLs for OAuth success/failure redirects
FRONTEND_URL_DEV=http://localhost:3000
FRONTEND_URL_PROD=https://third-south-capital.github.io/pixelprep

# ==============================================
# IMAGE PROCESSING SETTINGS
# ==============================================

# Maximum file upload size (in MB)
MAX_FILE_SIZE_MB=10

# Image processing timeout (in seconds)
PROCESSING_TIMEOUT_SECONDS=30

# Maximum image dimensions (width x height)
MAX_IMAGE_WIDTH=4000
MAX_IMAGE_HEIGHT=4000

# Storage settings
# Memory storage for anonymous users (no config needed)
# Supabase storage for authenticated users
SUPABASE_STORAGE_BUCKET=pixelprep-images

# ==============================================
# DEPLOYMENT SETTINGS
# ==============================================

# Server configuration
HOST=0.0.0.0
PORT=8000

# Render.com specific (if deploying to Render)
# These are automatically set by Render, but can be overridden
# RENDER_EXTERNAL_URL=https://your-app.onrender.com
# RENDER_INTERNAL_HOSTNAME=your-app
# RENDER_SERVICE_NAME=pixelprep-backend

# Python runtime version
PYTHON_VERSION=3.11

# ==============================================
# DEVELOPMENT TOOLS
# ==============================================

# Debug mode (enables detailed error messages)
DEBUG=true

# Logging level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Test environment settings (used by pytest)
TESTING=false

# ==============================================
# OPTIONAL INTEGRATIONS
# ==============================================

# Email service (for future user notifications)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# Analytics (for usage tracking)
# GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX

# Monitoring/Error Tracking
# SENTRY_DSN=https://your-sentry-dsn-here

# ==============================================
# PHASE-SPECIFIC NOTES
# ==============================================

# Phase 1 (Standalone): Only need ENVIRONMENT, MAX_FILE_SIZE_MB, PROCESSING_TIMEOUT_SECONDS
# Phase 2 (Database): Add all SUPABASE_* and AUTH_* variables
# Phase 3 (Frontend): Add VITE_API_URL and CORS_ORIGINS
# Production: Update all URLs from localhost to production domains

# ==============================================
# SECURITY NOTES
# ==============================================

# 1. NEVER commit this file with real values to git
# 2. Use strong, unique values for JWT_SECRET (256-bit minimum)
# 3. Rotate secrets regularly in production
# 4. Use environment-specific GitHub OAuth apps
# 5. Restrict CORS_ORIGINS to only necessary domains
# 6. Use HTTPS in production for all external URLs